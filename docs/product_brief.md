# Bunch flowers — продуктовый бриф (физлица, Красноярск)

## Контекст и целевая аудитория
- Получатели: жители Красноярска (таймзона Asia/Krasnoyarsk). Заказчики могут быть в любом регионе.
- Клиентский сегмент на первом этапе: физлица. В дальнейшем — организации и оптовые закупки.
- Язык интерфейса: русский. Валюта: рубль.

## Предложение и модели продаж
- **Разовые заказы**: оформление с 09:00 до 22:00 с доставкой или самовывозом.
- **Подписка на букеты** (регулярные поставки цветов раз в неделю в магазин): частоты 1/2/3/4 недели.
- **Прогрессивная скидка подписки**: 2‑я доставка −3%, 3‑я −6%, 4‑я −9%, с 5‑й и далее −12%.
- **Акционные цены от объёма**: в карточке товара задаются обычная цена, цена по акции и, при необходимости, цена от определённого количества (например, розы по 99 ₽ от 1 шт., 89 ₽ от 15 шт.).

## Каталог и карточка товара
- Отображение: фото → название → горизонтальный ползунок количества.
- Под ползунком: выбранное количество и итоговая цена.
- Под ценой: кнопка «Заказать».

## Оформление заказа
- Поля заказчика: имя, телефон.
- Доставка (по умолчанию Красноярск) или самовывоз. В будущем — соседние города с учётом цены доставки.
- Получатель: заказчик или другой человек (имя + телефон).
- Дата: по умолчанию «сегодня», можно выбрать другую.
- Время доставки:
  - По умолчанию «ближайшее».
  - Если сегодня: от «через 1 час» до 22:00.
  - Если позже: окна 09:00–22:00.
  - После выбора показываем интервал 30 мин (например, 15:00 → 15:00–15:30). В праздничные дни/межгороде интервал увеличивается до 3 часов (управляется из админки).

## Личный кабинет
- Текущие заказы и подписки.
- Адреса с отметкой основного, возможность редактировать имя/телефон получателя.
- История выполненных заказов.
- Способы оплаты: онлайн, перевод через СБП, наличные при получении.

## Интеграции и сервисы
- Телеграм‑бот (регистрация/уведомления), CRM, сервис push‑уведомлений, реферальная система (позже).
- Маркетинговые/контентные страницы: контакты, информация о компании, доставка, правовая информация.

## Роли и права
- Пользователь.
- Менеджер проекта: доступ к разделам админки «заказы», «статистика», «товары».
- Администратор: полный доступ.

## Технологический стек (подтверждён)
- Backend: PHP, MySQL.
- Frontend: vanilla JS, Tailwind CSS + JS по CDN, Google Material Icons, шрифт Manrope (Google Fonts), PWA.
- Push‑уведомления через сторонний сервис.

## Аналитика и мониторинг
- Основная аналитика: воронка заказов и подписок; источники трафика (Avito, VK, Telegram, реклама); конверсия визит → заказ → подписка; средний чек; доля повторных заказов; подписчики, удержание, churn; базовый LTV по каналам.
- Инструменты: Яндекс.Метрика (события view_*, add_to_cart, order_created, subscription_created/cancelled, login_success/fail); при желании GA4.
- Бэкенд‑логи: ошибки PHP + бизнес‑события (user_registered, order_created, subscription_created/cancelled и т.п.).
- Ошибки/аптайм: Sentry (PHP+JS), uptime‑мониторинг с алертами в Telegram.
- Операционные уведомления: Telegram‑бот (новые заказы, подписки, отмены, отчёты).

## Ближайшие шаги (черновой роадмэп)
1. Уточнить структуру подписки в БД (частота, прогрессивная скидка, история доставок) и обновить схему.
2. Проработать UI/UX карточки товара и формы заказа с учётом интервалов доставки и опций оплаты.
3. Добавить в админку: 
   - управление праздничными окнами доставки (30/180 минут), 
   - акционные цены и прайс от объёма,
   - роли менеджер/администратор.
4. Настроить интеграции: Telegram‑бот (уведомления/регистрация), Яндекс.Метрика события, push‑сервис.
5. Описать бизнес‑логи и алерты (Sentry, uptime) и подключить их в рантайме.
